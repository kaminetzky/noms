<%= form_with model: meal do |form| %>
  <% if meal.errors.any? %>
    <div id="error_explanation">
      <p><%= pluralize(meal.errors.count, "error") %> prevented this meal from being saved:</p>
      <ul>
        <% meal.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <%= form.label :food_id %><br>
    <%= form.collection_select :food_id, foods, :id,
      -> (f) {"#{f.name} (#{f.serving})"}, include_blank: true %>
  </div>

  <div>
    <%= form.label :description %><br>
    <%= form.text_area :description %>
  </div>

  <div>
    <%= form.label :servings %><br>
    <%= form.number_field :servings, step: 0.1  %>
  </div>

  <div>
    <%= form.label :consumed_on %><br>
    <%= form.datetime_local_field :consumed_on, step: 1 %>
  </div>

  <div>
    <%= form.submit %>
  </div>
<% end %>
